<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>The IDDP Saga Denis Tezerdi</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id="game-menu" class="bg hidden">
        <div class="commerzbank-logo"></div>

        <!-- Update the controls panel structure -->
        <div class="controls-panel">
            <h3>Game Controls</h3>

            <!-- Movement controls with separate keys -->
            <div class="control-item">
                <div class="key-container">
                    <div class="key arrow-key">←</div>
                    <span class="key-label">Move Left</span>
                </div>
            </div>

            <div class="control-item">
                <div class="key-container">
                    <div class="key arrow-key">→</div>
                    <span class="key-label">Move Right</span>
                </div>
            </div>

            <div class="control-item">
                <div class="key-container">
                    <div class="key arrow-key">↑</div>
                    <span class="key-label">Jump</span>
                </div>
            </div>

            <div class="control-item">
                <div class="key-container">
                    <div class="key space-key">Space</div>
                    <span class="key-label">Jump</span>
                </div>
            </div>
        </div>

        <div class="menu-content">
            <div class="header-section">
                <h1 id="main-title">The IDDP Saga:</h1>
                <h2 class="author">Denis Tezerdi</h2>
                <div class="separator"></div>
                <div class="levels-title">Levels overview</div>
            </div>

            <table class="levels-table">
                <tr>
                    <td class="level-number">Level 1</td>
                    <td>
                        <a class="level-option" href="#" onclick="selectLevel(1)">
                            Life of Denis:<br>
                            What makes me, me
                        </a>
                    </td>
                </tr>
                <tr>
                    <td class="level-number">Level 2</td>
                    <td>
                        <a class="level-option" href="#" onclick="selectLevel(2)">
                            What I bring to the table<br>
                        </a>
                    </td>
                </tr>
                <tr>
                    <td class="level-number">Level 3</td>
                    <td>
                        <a class="level-option" href="#" onclick="selectLevel(3)">
                            My way to IDDP
                        </a>
                    </td>
                </tr>
                <tr>
                    <td></td>
                    <td>
                        <a id="go-back" class="level-option" href="#" onclick="goBackMainMenu()">Go to Resume</a>
                    </td>
                </tr>
            </table>
        </div>


    </div>

    <div id="game-container"></div>

    <!-- Phaser Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/phaser/3.70.0/phaser.min.js"></script>

    <!-- Utilities first -->
    <script src="utils/collisions.js"></script>

    <!-- Levels next -->
    <script src="levels/level1.js"></script>
    <script src="levels/level2.js"></script>
    <script src="levels/level3.js"></script>

    <!-- Main game code -->
    <script src="game.js"></script>

    <!-- Menu functionality -->
    <script src="menu.js"></script>
    <script src="index.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Check if we should skip intro (coming back from game)
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('skip_intro') === 'true') {
                // Hide intro elements
                const introElements = document.querySelectorAll('.intro-screen, #intro-container');
                introElements.forEach(el => {
                    if (el) el.style.display = 'none';
                });

                // Show level select menu directly
                const levelMenu = document.querySelector('#level-menu, .level-menu');
                if (levelMenu) levelMenu.style.display = 'flex';

                // If you have any animations or transitions on the menu, trigger them
                const menuButtons = document.querySelectorAll('.level-button');
                menuButtons.forEach((button, index) => {
                    setTimeout(() => {
                        button.classList.add('visible');
                    }, index * 100);
                });
            }
        });
    </script>
</body>

</html>